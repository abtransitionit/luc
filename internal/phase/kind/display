/*
Copyright Â© 2025 AB TRANSITION IT abtransitionit@hotmail.com
*/
package kind

import (
	"os"

	"github.com/abtransitionit/luc/pkg/logx"
	"github.com/jedib0t/go-pretty/table"
	"github.com/jedib0t/go-pretty/text"
)

// Structure used to holds the cluster informations.
type ClusterConfig struct {
	KindVm     string
	ListWorker string
	ListCplane string
}

// 1 instance of the structure for the cluster
var CurrentClusterConfig = ClusterConfig{
	KindVm:     "todo",
	ListWorker: "todo",
	ListCplane: "todo",
}

const DisplayDescription = "display Kind Cluster's informations."

func display(arg ...string) (string, error) {
	logx.L.Info(DisplayDescription)
	// display informayions on the cluster
	ShowClusterConfig(CurrentClusterConfig)
	// on SUCCESS
	return "", nil
}

// pretty display
func ShowClusterConfig(config ClusterConfig) {
	t := table.NewWriter()
	t.SetOutputMirror(os.Stdout)
	t.SetStyle(table.StyleLight)
	t.Style().Title.Align = text.AlignCenter

	t.SetTitle("Cluster Node informations")
	t.AppendHeader(table.Row{"Type", "Node(s)"})
	t.AppendRows([]table.Row{
		{"All Node names", config.KbeListNode},
		{"Worker Node names", config.KbeListNodeWorker},
		{"Control Plane Node names", config.KbeListNodeCplane},
	})

	t.Render()
}
